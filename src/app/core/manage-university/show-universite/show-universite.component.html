<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <!-- Filter -->

      <div class="input-group rounded">
        <input
          type="text"
          class="form-control rounded"
          placeholder=" Cherchez-vous une université ?"
          aria-label="Search"
          aria-describedby="search-addon"
          [(ngModel)]="universityFilter"
          (ngModelChange)="filterUniversity(universityFilter)"
        />
        <span class="input-group-text border-0" id="search-addon">
          <i class="fas fa-search"></i>
        </span>
      </div>

      <br />
<br>
      <div class="col-md-12">
        <div class="card card-plain">
          <div class="card-header card-header-danger">
            <h4 class="card-title mt-0">Liste des universités</h4>
          </div>
<!--<div class="container-fluid mt--7">
     Table -->
   <!-- <div class="row">
      <div class="col">-->
        <div class="card-body">
        <!-- <div class="card shadow">
         <div class="card-header border-0">
            <h3 class="mb-0">Card tables</h3>
             <table class="table align-items-center table-flush">

          </div>-->
          <div class="d-flex justify-content-start mt-2">
               <button
          type="button"
          mat-raised-button
          class="btn btn-primary mx-2"
          routerLink="/universite/show/adduni">
          <i class="nav-link active">Ajouter une universite</i>
        </button>

          <button
          type="button"
          [disabled]="!allUniversite && oneSelect()<=1"
          mat-raised-button
          (click)="deletAll()"
          class="btn btn-outline-danger mx-2"
          >
          <i class="nav-link active">Suppression par lot</i>
        </button>
        </div>
          <div class="table-responsive">

            <table class="table table-hover">
              <thead class="">

              <!--<thead class="thead-light">-->
                <tr>
               <!--   <th scope="col">Id</th>-->
               <th scope="col">
                <input  (change)="selectAll()" [(ngModel)]="allUniversite"  type="checkbox" name="allUniversite" value="alluni"></th>
                  <th scope="col">Nom Universite</th>
                  <th scope="col">Adresse</th>
                  <th scope="col">Email</th>
                  <th scope="col">Numero de telephone</th>
                  <th scope="col">Picture</th>
                  <th scope="col">Action</th>
                </tr>
              </thead>

              <tbody>
                <tr *ngFor="let u of listU | paginate: { itemsPerPage: pageSize, currentPage: page }; let i = index">
                <!-- <td>{{u.idUniversite}}</td>-->

                <td> <input  [(ngModel)]="u.select" type="checkbox" name="uni" value="uni"></td>
                <td [ngClass]="{'line-through-red': u.select}">{{u.nomUniversite}}</td>
                <td [ngClass]="{'line-through-red': u.select}">{{u.adresse}}</td>
                <td [ngClass]="{'line-through-red': u.select}">{{u.mail}}</td>
                <td [ngClass]="{'line-through-red': u.select}">{{u.numero}}</td>
                <td>
                  <div style="position: relative;">
                    <img src="{{u.logo.imagenUrl}}" style="width: 50px; height: 50px;"  [ngStyle]="{'position': 'relative'}" (click)="onImageClick(u.logo)">
                  </div>
                  <div *ngIf="isImageModalOpen&&u.logo" class="image-modal">
                    <div class="modal-content">
                      <img *ngIf="selectedMedia" [src]="selectedMedia?.imagenUrl" [style.width.px]="500" [style.height.px]="500" class="center-image">
                      <button (click)="closeImageModal()" class="close-button"><i class="fas fa-times"></i></button>
                    </div>
                  </div>
                </td>

                 <!--Bouton Modifier-->
                 <td>
                  <div class="d-flex justify-content-start mt-2">
                    <button  title="cette button permet dimpreme un pdf" class="btn btn-success btn-round btn-sm btn-icon mx-2 " (click)="showTicket(u)">
                    <i class="fa fa-print"></i>
                  </button>
                  <button
                  type="button"
              title="cette button permet de modifier"

                  class="btn btn-primary mx-2 "

                  routerLink="/universite/show/update/{{u.idUniversite }}"
                >
                  <span>edit</span>
                </button>

                 <button type="button"  title="cette button permet de supprime" class="btn btn-outline-danger mx-2 " (click)="deleteUniv(u.idUniversite, i)" >
                  Delete
                </button>
              </div>
                </td>

                </tr>
              </tbody>
            </table>
            <pagination-controls (pageChange)="page = $event"></pagination-controls>
<div class="d-flex justify-content-center">





<!--pagination-controls (pageChange)="changePage($event)" [itemsPerPage]="5" [maxSize]="5"></!--pagination-controls-->

      </div>
    </div>

  </div>
</div>
</div>


